## 1. Тестирование с wrk2

**Порядок действий**:
1. Запускаю сервер через `./gradlew run`
2. Запускаю wrk и с выбранным rps.
3. Выключаю сервер.
3. Смотрю перцентиль.
4. Примерно понимаю на каком этапе стало снижаться latency и сужаю область поиска точки разладки, условный бинпоиск.
5. Возвращаюсь на этап 1 пока не найду точку

### 1.1 Get

**Команда для запуска:**
```
 wrk -d 30 -t 1 -c 1 -R 50000 -L -s ./src/main/java/ru/vk/itmo/test/kovalchukvladislav/resources/lua/get.lua http://localhost:8080 >> src/main/java/ru/vk/itmo/test/kovalchukvladislav/resources/wrk/get50000
```


**Итерации:**
1. Запуск с 50000 rps. latency почти сразу начинает проседать, где-то с 20-30 персентиля. График шумный, не понятно.
[get50000](wrk/get50000)  
[get50000.png](wrk/get50000.png)
2. Запуск с 35000 rps. График стал менее шумным, но все еще не понятным. Так же, где то с +- 30% перцентиля все растет.  
[get35000](wrk/get35000)  
[get35000.png](wrk/get35000.png)  
3. Запуск с 20000 rps. Намного лучше, рост идет после 92 перцентиля.  
   [get20000](wrk/get20000)  
   [get20000.png](wrk/get20000.png)
4. Запуск с 17000 rps. Ожидалось, что рост пойдет позже 92 перцентиля, но он примерно там же: 85-90.  
   [get17000](wrk/get17000)  
   [get17000.png](wrk/get17000.png)
5. Запуск с 15000 rps. Идеально. Высокие значения на 99.3+ перцентиле. Сделал еще несколько итераций, все так и оставалось.  
   [get15000](wrk/get15000)  
   [get15000.png](wrk/get15000.png)

**Вывод**:
Наш сервер уверенно выдерживает 15к get запросов в секунду. Это и есть точка разладки.
Если быть точнее, она наверняка находится между 15000 и 17000 запросами, но думаю там будет слишком шумно.
Лучше взять с небольшим запасом для уверенности.

### 1.2 Put

